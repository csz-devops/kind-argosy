apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- argocd/argocd-app.yaml
- monitoring/prometheus-app.yaml
- monitoring/argocd-servicemonitor.yaml
- monitoring/argocd-alerts.yaml

namespace: argocd

# Sync waves to ensure proper ordering
# Wave 0: Argo CD app (self-management)
# Wave 1: Prometheus stack (installs CRDs)
# Wave 2: ServiceMonitors and PrometheusRules (require CRDs)
